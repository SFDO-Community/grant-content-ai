<template>
    <lightning-card title={title} icon-name="standard:bot">
      <template if:true={isLoading}>
        <div class="spinnerHolder">
          <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
        </div>
      </template>
      <lightning-layout
        vertical-align="end"
        class="slds-var-m-bottom_small"
      >
        <lightning-layout-item flexibility="grow">
          <lightning-combobox
              name="model"
              label="Models"
              value={selectedModelURL}
              placeholder="Select Model"
              options={modelOptions}
              onchange={handleModelChange} >
          </lightning-combobox>
        </lightning-layout-item>
  
        <lightning-layout-item flexibility="grow">
            <lightning-textarea
                onchange={handlePromptChange}
                label={title}
                value={requestPromtText}
                placeholder="Enter prompt text"
            ></lightning-textarea>
        </lightning-layout-item>
        <lightning-layout-item class="slds-var-p-left_xx-small">
            <lightning-button
                label="Generate"
                onclick={handleLLMRequest}
            ></lightning-button>
        </lightning-layout-item>
      </lightning-layout>    
  
      
      <template if:true={generativeResult}>
        <template for:each={generativeResult} for:item="block">
          <div key={block.index} class="slds-box slds-box_xx-small slds-var-m-left_xx-small slds-var-m-right_xxx-small slds-var-m-bottom_xx-small">
            <lightning-card  title="Result Text">
                <lightning-button-stateful
                    label-when-off="Select"
                    label-when-on="Selected"
                    label-when-hover="Deselect"
                    icon-name-when-off="utility:add"
                    icon-name-when-on="utility:check"
                    icon-name-when-hover="utility:close"
                    selected=false
                    onclick={handleSelectClick}
                    name={block.index}
                    slot="actions"
                    >
                </lightning-button-stateful>

                <lightning-formatted-rich-text
                    value={block.text}
                ></lightning-formatted-rich-text>
                
                <!-- Badge winner icon-name="utility:moneybag" 
                <lightning-badge label={block.displaydate} slot="footer"></lightning-badge>
                <lightning-badge label={block.wordcount} slot="footer"></lightning-badge>
                <lightning-badge label={block.languagelabel} slot="footer"></lightning-badge>
                <template for:each={block.badgeList} for:item="badge">
                    <lightning-badge key={badge} label={badge} slot="footer"></lightning-badge>
                </template>
              -->
            </lightning-card>
        </div>

        </template>
      </template>
  
    </lightning-card>
  </template>